**Nuxt 4 + PostgreSQL 个人文档系统**

## 1. 项目概述

本项目基于 **Nuxt 4.0 全栈框架** 与 **PostgreSQL 数据库**，构建一个 **个人文档管理与展示系统**。
 系统仅针对单一管理员用户，不涉及多用户体系。提供 **页面可视化展示** 与 **后台管理控制台** 两套界面。

系统支持以下核心能力：

- 自定义项目（Project）
- 项目内自定义分类（Category）
- 分类下组织页面（Page）
- 每个项目    拥有独立的访问路由
- 展示内容支持 **HTML / Markdown**
- 支持向量化语义搜索
- 内置完整文件系统
- 集成基于 Sol 区块链（Solana）的 **ETF 版权发放与钱包绑定阅读权限系统**

------

## 2. 技术栈说明

### 前端 / 全栈框架

- **Nuxt 4.0（SSR + 全栈 API）**
- **Vue 3 Composition API**
- **Element Plus（UI 组件库）**
- TypeScript
- Pinia
- heroicons/vue **-  图标库**

### 后端（内置于 Nuxt）

- Nuxt Server API（`/server/api`）
- PostgreSQL（存储文档、项目、分类、索引等）
- Prisma (ORM )
- Qwen3 向量模型

### 其他技术组件

- Markdown 解析器（md → HTML）
- Solana SDK（web3.js）
- IPFS / Arweave（可选，用于文档版权存证）
- 向量数据库 Qdrant

------

## 3. 系统功能概览

系统分为两个部分：

------

## 3.1 前台可视页面

- 展示管理员发布的文档内容
- 支持路由模式：`/project/:project/page/:page`
- 响应式布局，适配 PC / 移动端 两套页面(仅用户端做适配)
- 文档内容支持：
  - Markdown 渲染
  - HTML 原样渲染
- 页面加载权限判断（与 Solana 钱包绑定体系集成）
- 全局搜索（基于向量检索的语义搜索）
- 文档目录、面包屑导航、分类导航

------

## 3.2 管理后台页面

用于所有内容管理，不存在多用户：

\###（1）项目管理

- 新增项目
- 编辑项目名称、简介、图标,路由之类的
- 删除项目
- 控制项目是否公开
- 为项目配置单独路由

\###（2）分类管理

- 项目内创建分类
- 设置分类排序
- 分类显示权限
- 级联管理（可选多级分类）

\###（3）页面管理

- 创建页面（HTML 或 Markdown）
- 页面内容使用富文本编辑器或 MD 编辑器
- 为页面配置单独路由
- 设置 SEO 信息（title、description、keywords）
- 设置页面阅读权限（公开 / 需钱包授权）
- 设置版权 NFT/ETF 铸造开关

\###（4）文件系统(通用系统 使用minio)

- 特殊设计

\###（5）语义搜索管理

- 文档向量化（自动或手动触发）
- 基于 pgvector 存储 embedding

\###（6）Sol ETF 版权系统管理

- 用于文档的“版权铸造”与“授权阅读”
- 管理员可为页面发行 **ETF NFT**
- 用户必须绑定 Solana 钱包才能阅读
- 验证 NFT 持仓后再开放内容
- 数据写入链上（存证或 NFT 发行记录）
- 版权认证为管理员自添加版权认证在自己的钱包中
- 阅读权限为用户的阅读权限,从中的价格要转发到版权etf存在的钱包中

### 提供数据备份恢复功能以及页面历史记录功能

------

## 4. 区块链部分说明（Sol ETF + 钱包验证）

### 4.1 Sol ETF（文档版权铸造系统）

每个文档页面可选择：

| 功能         | 描述                                    |
| ------------ | --------------------------------------- |
| 版权注册     | 将当前页面内容的 Hash 上传至链上存证    |
| NFT/ETF 发行 | 为页面发行独立的 Solana NFT，代表阅读权 |
| 限量发行     | 可设置数量、价格                        |
| 再授权规则   | 持有者可否二次转让                      |
| 上链信息     | 记录内容哈希、时间、发行者              |

------

### 4.2 用户钱包绑定阅读权限

用户浏览文档时：

1. 前端引导连接 Solana 钱包（支持 Phantom 等）
2. 查询链上是否持有页面对应 NFT/ETF
3. 如果持有 → 显示全文
4. 不持有 → 显示摘要 + 购买入口
5. 所有验证过程通过 Solana RPC 或 Jito 提供商进行
